<mat-sidenav-container class="app-container">
  <mat-sidenav
    #drawer
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="!(isHandset$ | async)"
    class="bm-sidenav"
  >
    <div class="bm-sidenav-header">
      <div class="bm-sidenav-brand">
        <div class="bm-sidenav-logo" aria-hidden="true">
          <img src="assets/brand/Bandmate logo tale transparent.png" alt="" />
        </div>

        <div class="min-w-0">
          <div class="fw-semibold bm-side-title">Bandmate</div>
          <div class="small opacity-75 bm-side-sub">Prep • Rehearse • Play</div>
        </div>
      </div>
    </div>

    <div class="bm-sidenav-section">
      <div class="bm-sidenav-section-title">Library</div>

      <mat-nav-list class="bm-nav">
        <a mat-list-item routerLink="/songs" routerLinkActive="active">
          <mat-icon matListItemIcon class="me-2">music_note</mat-icon>
          <span>Songs</span>
        </a>

        <a mat-list-item routerLink="/setlists" routerLinkActive="active">
          <mat-icon matListItemIcon class="me-2">queue_music</mat-icon>
          <span>Setlists</span>
        </a>
      </mat-nav-list>
    </div>

    <div class="bm-sidenav-section">
      <div class="bm-sidenav-section-title">Tools</div>

      <mat-nav-list class="bm-nav">
        <a mat-list-item routerLink="/practice" routerLinkActive="active">
          <mat-icon matListItemIcon class="me-2">fitness_center</mat-icon>
          <span>Practice</span>
        </a>
      </mat-nav-list>
    </div>

    <div class="bm-sidenav-footer">
      <div class="d-flex justify-content-center">
        <div class="small opacity-75">Less chaos. More music.</div>
      </div>

      <ng-container>
        <button mat-stroked-button color="primary" class="w-100 bm-upgrade-btn">
          <mat-icon class="me-2">workspace_premium</mat-icon>
          Upgrade
        </button>
      </ng-container>
    </div>
  </mat-sidenav>

  <mat-sidenav-content class="app-content">
    <bm-topbar [drawer]="drawer" [isHandset]="(isHandset$ | async) ?? false"></bm-topbar>
    <bm-error-boundary />
    <main class="app-main">
      <div class="content-wrap">
        <router-outlet />
      </div>
    </main>
    <footer class="app-footer">
      <div class="content-wrap footer-inner">
        <span class="small opacity-75">Bandmate — personal project</span>
        <span class="small opacity-75">Angular 21 • Signals • Signal Forms</span>
      </div>
    </footer>
  </mat-sidenav-content>
</mat-sidenav-container>
